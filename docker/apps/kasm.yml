version: "2.1"
services:
  kasm:
    container_name: kasm
    image: lscr.io/linuxserver/kasm:latest
    privileged: true
    networks:
      - external
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - KASM_PORT=443
      - TZ=${TIMEZONE}
#      - DOCKER_HUB_USERNAME=USER #optional
#      - DOCKER_HUB_PASSWORD=PASS #optional
    volumes:
      - ${NAS}/docker/kasm/data:/opt
      - ${NAS}/docker/kasm/profiles:/profiles #optional
#      - /dev/input:/dev/input #optional
#      - /run/udev/data:/run/udev/data #optional
    labels:
      ingress:
        - port: 443
          host: kasm.${SERVER_DOMAIN}
          protocol: https
    ports:
      - 3011:3000
#      - 443:443
